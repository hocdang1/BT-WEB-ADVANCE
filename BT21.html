
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Product</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
   <h1>New Product</h1>
   <hr>
   <div class="section">
    <form id="frm">
       <p>
         <label>
            Product Name:
            <input type="text" name="pname" id="pname">
        </label>
       </p>
       <p>
        <label>
            Product Quantity:
            <input type="text" name="qty" id="qty">
        </label>
       </p>
       <p>
        <label>
            Product Price:
            <input type="text" name="pri" id="pri">
        </label>
       </p>
       <p> 
        <button type="button" onclick="add()">Add</button>
        <button type="button" onclick="cancel()">Cancel</button>
       </p>
    </form>
    
    <table id="tb" border="1">
        <thead id="thead">
        <tr>
            <th>No</th>
            <th>Name</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Subtotal</th>
        </tr>
        </thead>
        <tbody id="tbody">
            <tr>
                <td>Total</td>
                <td></td>
                <td></td>
                <td></td>
                <td id="total">0</td>
            </tr>
        </tbody>
    </table>
    </div>

    <script>
        var id = 0;

        function add(){
    id++;
    // Get form values
    var pname = frm.pname.value;
    var qty = frm.qty.value;
    var price = frm.pri.value;

    // Calculate subtotal
    var sub = qty * price;

    // Get tbody and create a new row
    var tbody = document.getElementById('tbody');
    var newRow = tbody.insertRow(tbody.rows.length - 1);  // Insert before the total row
    
    // Insert new cells
    var cell1 = newRow.insertCell(0);
    var cell2 = newRow.insertCell(1);
    var cell3 = newRow.insertCell(2);
    var cell4 = newRow.insertCell(3);
    var cell5 = newRow.insertCell(4);

    // Fill cells with data
    cell1.innerHTML = id;
    cell2.innerHTML = pname;
    cell3.innerHTML = qty;
    cell4.innerHTML = price;
    cell5.innerHTML = sub;

    // Update total
    var total = document.getElementById('total').innerHTML;
    total = parseInt(total) + parseInt(sub);
    
    // Update the total row's content
    document.getElementById('total').innerHTML = total;
    
        }
function cancel() {
    document.getElementById('pname').value = '';
    document.getElementById('qty').value = '';
    document.getElementById('pri').value = '';
     // Reset total to 0
     document.getElementById('total').innerHTML = '0';

// Clear the tbody except for the total row
    document.getElementById('tbody').innerHTML =
             `
                <tr>
                    <td>Total</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td id="total">0</td>
                </tr>
            `;
            
            // Reset product id counter
            id = 0;



}
    </script>
</body>

</html>


